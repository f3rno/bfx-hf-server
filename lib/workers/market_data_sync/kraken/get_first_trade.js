'use strict';

const dbRL = require('../../../db/pg_rate_limited');

module.exports = async symbol => {
  return dbRL(db => {
    return db('kraken_trades').
    where('symbol', symbol).
    orderBy('mts', 'desc').
    first('*');
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy93b3JrZXJzL21hcmtldF9kYXRhX3N5bmMva3Jha2VuL2dldF9maXJzdF90cmFkZS5qcyJdLCJuYW1lcyI6WyJkYlJMIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJzeW1ib2wiLCJkYiIsIndoZXJlIiwib3JkZXJCeSIsImZpcnN0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyw2QkFBRCxDQUFwQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLE1BQU9DLE1BQVAsSUFBa0I7QUFDakMsU0FBT0osSUFBSSxDQUFFSyxFQUFELElBQVE7QUFDbEIsV0FBT0EsRUFBRSxDQUFDLGVBQUQsQ0FBRjtBQUNKQyxJQUFBQSxLQURJLENBQ0UsUUFERixFQUNZRixNQURaO0FBRUpHLElBQUFBLE9BRkksQ0FFSSxLQUZKLEVBRVcsTUFGWDtBQUdKQyxJQUFBQSxLQUhJLENBR0UsR0FIRixDQUFQO0FBSUQsR0FMVSxDQUFYO0FBTUQsQ0FQRCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBkYlJMID0gcmVxdWlyZSgnLi4vLi4vLi4vZGIvcGdfcmF0ZV9saW1pdGVkJylcblxubW9kdWxlLmV4cG9ydHMgPSBhc3luYyAoc3ltYm9sKSA9PiB7XG4gIHJldHVybiBkYlJMKChkYikgPT4ge1xuICAgIHJldHVybiBkYigna3Jha2VuX3RyYWRlcycpXG4gICAgICAud2hlcmUoJ3N5bWJvbCcsIHN5bWJvbClcbiAgICAgIC5vcmRlckJ5KCdtdHMnLCAnZGVzYycpXG4gICAgICAuZmlyc3QoJyonKVxuICB9KVxufVxuIl19