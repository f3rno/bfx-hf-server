'use strict';

const _isError = require('lodash/isError');
const debug = require('debug')('bfx:hf:server:capture-exception');
const { sprintf } = require('sprintf-js');

const exception = (err, ...args) => {
  const str = args.length > 0 ?
  sprintf(err, ...args) :
  _isError(err) ?
  err.message :
  err;

  debug(_isError(err) ? err.stack : str);
};

module.exports = { exception };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jYXB0dXJlLmpzIl0sIm5hbWVzIjpbIl9pc0Vycm9yIiwicmVxdWlyZSIsImRlYnVnIiwic3ByaW50ZiIsImV4Y2VwdGlvbiIsImVyciIsImFyZ3MiLCJzdHIiLCJsZW5ndGgiLCJtZXNzYWdlIiwic3RhY2siLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxnQkFBRCxDQUF4QjtBQUNBLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLE9BQUQsQ0FBUCxDQUFpQixpQ0FBakIsQ0FBZDtBQUNBLE1BQU0sRUFBRUUsT0FBRixLQUFjRixPQUFPLENBQUMsWUFBRCxDQUEzQjs7QUFFQSxNQUFNRyxTQUFTLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNLEdBQUdDLElBQVQsS0FBa0I7QUFDbEMsUUFBTUMsR0FBRyxHQUFHRCxJQUFJLENBQUNFLE1BQUwsR0FBYyxDQUFkO0FBQ1JMLEVBQUFBLE9BQU8sQ0FBQ0UsR0FBRCxFQUFNLEdBQUdDLElBQVQsQ0FEQztBQUVSTixFQUFBQSxRQUFRLENBQUNLLEdBQUQsQ0FBUjtBQUNFQSxFQUFBQSxHQUFHLENBQUNJLE9BRE47QUFFRUosRUFBQUEsR0FKTjs7QUFNQUgsRUFBQUEsS0FBSyxDQUFDRixRQUFRLENBQUNLLEdBQUQsQ0FBUixHQUFnQkEsR0FBRyxDQUFDSyxLQUFwQixHQUE0QkgsR0FBN0IsQ0FBTDtBQUNELENBUkQ7O0FBVUFJLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixFQUFFUixTQUFGLEVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IF9pc0Vycm9yID0gcmVxdWlyZSgnbG9kYXNoL2lzRXJyb3InKVxuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdiZng6aGY6c2VydmVyOmNhcHR1cmUtZXhjZXB0aW9uJylcbmNvbnN0IHsgc3ByaW50ZiB9ID0gcmVxdWlyZSgnc3ByaW50Zi1qcycpXG5cbmNvbnN0IGV4Y2VwdGlvbiA9IChlcnIsIC4uLmFyZ3MpID0+IHtcbiAgY29uc3Qgc3RyID0gYXJncy5sZW5ndGggPiAwXG4gICAgPyBzcHJpbnRmKGVyciwgLi4uYXJncylcbiAgICA6IF9pc0Vycm9yKGVycilcbiAgICAgID8gZXJyLm1lc3NhZ2VcbiAgICAgIDogZXJyXG5cbiAgZGVidWcoX2lzRXJyb3IoZXJyKSA/IGVyci5zdGFjayA6IHN0cilcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7IGV4Y2VwdGlvbiB9XG4iXX0=