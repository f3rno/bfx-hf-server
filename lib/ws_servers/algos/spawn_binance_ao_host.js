'use strict';

const HFDB = require('bfx-hf-models');
const HFDBLowDBAdapter = require('bfx-hf-models-adapter-lowdb');
const {
  AOAdapter: BinanceAOAdapter,
  schema: HFDBBinanceSchema } =
require('bfx-hf-ext-plugin-binance');

const initAOHost = require('../../util/init_ao_host');

module.exports = async (server, apiKey, apiSecret) => {
  const { dbPath } = server;

  return initAOHost({
    adapter: new BinanceAOAdapter({
      apiKey,
      apiSecret }),


    db: new HFDB({
      schema: HFDBBinanceSchema,
      adapter: HFDBLowDBAdapter({
        dbPath }) }) });



};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy93c19zZXJ2ZXJzL2FsZ29zL3NwYXduX2JpbmFuY2VfYW9faG9zdC5qcyJdLCJuYW1lcyI6WyJIRkRCIiwicmVxdWlyZSIsIkhGREJMb3dEQkFkYXB0ZXIiLCJBT0FkYXB0ZXIiLCJCaW5hbmNlQU9BZGFwdGVyIiwic2NoZW1hIiwiSEZEQkJpbmFuY2VTY2hlbWEiLCJpbml0QU9Ib3N0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcnZlciIsImFwaUtleSIsImFwaVNlY3JldCIsImRiUGF0aCIsImFkYXB0ZXIiLCJkYiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsZUFBRCxDQUFwQjtBQUNBLE1BQU1DLGdCQUFnQixHQUFHRCxPQUFPLENBQUMsNkJBQUQsQ0FBaEM7QUFDQSxNQUFNO0FBQ0pFLEVBQUFBLFNBQVMsRUFBRUMsZ0JBRFA7QUFFSkMsRUFBQUEsTUFBTSxFQUFFQyxpQkFGSjtBQUdGTCxPQUFPLENBQUMsMkJBQUQsQ0FIWDs7QUFLQSxNQUFNTSxVQUFVLEdBQUdOLE9BQU8sQ0FBQyx5QkFBRCxDQUExQjs7QUFFQU8sTUFBTSxDQUFDQyxPQUFQLEdBQWlCLE9BQU9DLE1BQVAsRUFBZUMsTUFBZixFQUF1QkMsU0FBdkIsS0FBcUM7QUFDcEQsUUFBTSxFQUFFQyxNQUFGLEtBQWFILE1BQW5COztBQUVBLFNBQU9ILFVBQVUsQ0FBQztBQUNoQk8sSUFBQUEsT0FBTyxFQUFFLElBQUlWLGdCQUFKLENBQXFCO0FBQzVCTyxNQUFBQSxNQUQ0QjtBQUU1QkMsTUFBQUEsU0FGNEIsRUFBckIsQ0FETzs7O0FBTWhCRyxJQUFBQSxFQUFFLEVBQUUsSUFBSWYsSUFBSixDQUFTO0FBQ1hLLE1BQUFBLE1BQU0sRUFBRUMsaUJBREc7QUFFWFEsTUFBQUEsT0FBTyxFQUFFWixnQkFBZ0IsQ0FBQztBQUN4QlcsUUFBQUEsTUFEd0IsRUFBRCxDQUZkLEVBQVQsQ0FOWSxFQUFELENBQWpCOzs7O0FBYUQsQ0FoQkQiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgSEZEQiA9IHJlcXVpcmUoJ2JmeC1oZi1tb2RlbHMnKVxuY29uc3QgSEZEQkxvd0RCQWRhcHRlciA9IHJlcXVpcmUoJ2JmeC1oZi1tb2RlbHMtYWRhcHRlci1sb3dkYicpXG5jb25zdCB7XG4gIEFPQWRhcHRlcjogQmluYW5jZUFPQWRhcHRlcixcbiAgc2NoZW1hOiBIRkRCQmluYW5jZVNjaGVtYVxufSA9IHJlcXVpcmUoJ2JmeC1oZi1leHQtcGx1Z2luLWJpbmFuY2UnKVxuXG5jb25zdCBpbml0QU9Ib3N0ID0gcmVxdWlyZSgnLi4vLi4vdXRpbC9pbml0X2FvX2hvc3QnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jIChzZXJ2ZXIsIGFwaUtleSwgYXBpU2VjcmV0KSA9PiB7XG4gIGNvbnN0IHsgZGJQYXRoIH0gPSBzZXJ2ZXJcblxuICByZXR1cm4gaW5pdEFPSG9zdCh7XG4gICAgYWRhcHRlcjogbmV3IEJpbmFuY2VBT0FkYXB0ZXIoe1xuICAgICAgYXBpS2V5LFxuICAgICAgYXBpU2VjcmV0XG4gICAgfSksXG5cbiAgICBkYjogbmV3IEhGREIoe1xuICAgICAgc2NoZW1hOiBIRkRCQmluYW5jZVNjaGVtYSxcbiAgICAgIGFkYXB0ZXI6IEhGREJMb3dEQkFkYXB0ZXIoe1xuICAgICAgICBkYlBhdGhcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn1cbiJdfQ==