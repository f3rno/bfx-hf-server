'use strict';

const {
  notifyInfo,
  notifyOrderCancelled,
  notifyErrorBitfinex } =
require('../../util/ws/notify');

module.exports = async (d, ws, bfxClient, symbol, id) => {
  notifyInfo(ws, 'Cancelling order on Bitfinex');

  try {
    const order = await bfxClient.cancelOrder(id);

    d('sucessfully cancelled order [bitfinex]');
    notifyOrderCancelled(ws, 'bitfinex', {
      amount: order[7],
      symbol: order[3],
      price: order[16],
      type: order[8] });

  } catch (error) {
    d('failed to cancel order [bitfinex]');
    notifyErrorBitfinex(ws, error);
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy93c19zZXJ2ZXJzL2FwaS9jYW5jZWxfb3JkZXJfYml0ZmluZXguanMiXSwibmFtZXMiOlsibm90aWZ5SW5mbyIsIm5vdGlmeU9yZGVyQ2FuY2VsbGVkIiwibm90aWZ5RXJyb3JCaXRmaW5leCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiZCIsIndzIiwiYmZ4Q2xpZW50Iiwic3ltYm9sIiwiaWQiLCJvcmRlciIsImNhbmNlbE9yZGVyIiwiYW1vdW50IiwicHJpY2UiLCJ0eXBlIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLE1BQU07QUFDSkEsRUFBQUEsVUFESTtBQUVKQyxFQUFBQSxvQkFGSTtBQUdKQyxFQUFBQSxtQkFISTtBQUlGQyxPQUFPLENBQUMsc0JBQUQsQ0FKWDs7QUFNQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLE9BQU9DLENBQVAsRUFBVUMsRUFBVixFQUFjQyxTQUFkLEVBQXlCQyxNQUF6QixFQUFpQ0MsRUFBakMsS0FBd0M7QUFDdkRWLEVBQUFBLFVBQVUsQ0FBQ08sRUFBRCxFQUFLLDhCQUFMLENBQVY7O0FBRUEsTUFBSTtBQUNGLFVBQU1JLEtBQUssR0FBRyxNQUFNSCxTQUFTLENBQUNJLFdBQVYsQ0FBc0JGLEVBQXRCLENBQXBCOztBQUVBSixJQUFBQSxDQUFDLENBQUMsd0NBQUQsQ0FBRDtBQUNBTCxJQUFBQSxvQkFBb0IsQ0FBQ00sRUFBRCxFQUFLLFVBQUwsRUFBaUI7QUFDbkNNLE1BQUFBLE1BQU0sRUFBRUYsS0FBSyxDQUFDLENBQUQsQ0FEc0I7QUFFbkNGLE1BQUFBLE1BQU0sRUFBRUUsS0FBSyxDQUFDLENBQUQsQ0FGc0I7QUFHbkNHLE1BQUFBLEtBQUssRUFBRUgsS0FBSyxDQUFDLEVBQUQsQ0FIdUI7QUFJbkNJLE1BQUFBLElBQUksRUFBRUosS0FBSyxDQUFDLENBQUQsQ0FKd0IsRUFBakIsQ0FBcEI7O0FBTUQsR0FWRCxDQVVFLE9BQU9LLEtBQVAsRUFBYztBQUNkVixJQUFBQSxDQUFDLENBQUMsbUNBQUQsQ0FBRDtBQUNBSixJQUFBQSxtQkFBbUIsQ0FBQ0ssRUFBRCxFQUFLUyxLQUFMLENBQW5CO0FBQ0Q7QUFDRixDQWpCRCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7XG4gIG5vdGlmeUluZm8sXG4gIG5vdGlmeU9yZGVyQ2FuY2VsbGVkLFxuICBub3RpZnlFcnJvckJpdGZpbmV4XG59ID0gcmVxdWlyZSgnLi4vLi4vdXRpbC93cy9ub3RpZnknKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jIChkLCB3cywgYmZ4Q2xpZW50LCBzeW1ib2wsIGlkKSA9PiB7XG4gIG5vdGlmeUluZm8od3MsICdDYW5jZWxsaW5nIG9yZGVyIG9uIEJpdGZpbmV4JylcblxuICB0cnkge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgYmZ4Q2xpZW50LmNhbmNlbE9yZGVyKGlkKVxuXG4gICAgZCgnc3VjZXNzZnVsbHkgY2FuY2VsbGVkIG9yZGVyIFtiaXRmaW5leF0nKVxuICAgIG5vdGlmeU9yZGVyQ2FuY2VsbGVkKHdzLCAnYml0ZmluZXgnLCB7XG4gICAgICBhbW91bnQ6IG9yZGVyWzddLFxuICAgICAgc3ltYm9sOiBvcmRlclszXSxcbiAgICAgIHByaWNlOiBvcmRlclsxNl0sXG4gICAgICB0eXBlOiBvcmRlcls4XVxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZCgnZmFpbGVkIHRvIGNhbmNlbCBvcmRlciBbYml0ZmluZXhdJylcbiAgICBub3RpZnlFcnJvckJpdGZpbmV4KHdzLCBlcnJvcilcbiAgfVxufVxuIl19