'use strict';

module.exports = (poolClient, ws) => {
  const { d, clients } = poolClient;
  const exchanges = Object.keys(clients);
  let chanKey;
  let exID;

  for (let i = 0; i < exchanges.length; i += 1) {
    exID = exchanges[i];
    const chanKeys = Object.keys(clients[exID]);

    for (let j = 0; j < chanKeys.length; j += 1) {
      chanKey = chanKeys[j];

      if (clients[exID][chanKey][ws.id]) {
        delete clients[exID][chanKey][ws.id];
        d('removed pool client %s from %s %s', ws.id, exID, chanKey);
      }
    }
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy93c19jbGllbnRzL2V4X3Bvb2wvcmVtb3ZlX2NsaWVudC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicG9vbENsaWVudCIsIndzIiwiZCIsImNsaWVudHMiLCJleGNoYW5nZXMiLCJPYmplY3QiLCJrZXlzIiwiY2hhbktleSIsImV4SUQiLCJpIiwibGVuZ3RoIiwiY2hhbktleXMiLCJqIiwiaWQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUIsQ0FBQ0MsVUFBRCxFQUFhQyxFQUFiLEtBQW9CO0FBQ25DLFFBQU0sRUFBRUMsQ0FBRixFQUFLQyxPQUFMLEtBQWlCSCxVQUF2QjtBQUNBLFFBQU1JLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxJQUFQLENBQVlILE9BQVosQ0FBbEI7QUFDQSxNQUFJSSxPQUFKO0FBQ0EsTUFBSUMsSUFBSjs7QUFFQSxPQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdMLFNBQVMsQ0FBQ00sTUFBOUIsRUFBc0NELENBQUMsSUFBSSxDQUEzQyxFQUE4QztBQUM1Q0QsSUFBQUEsSUFBSSxHQUFHSixTQUFTLENBQUNLLENBQUQsQ0FBaEI7QUFDQSxVQUFNRSxRQUFRLEdBQUdOLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSCxPQUFPLENBQUNLLElBQUQsQ0FBbkIsQ0FBakI7O0FBRUEsU0FBSyxJQUFJSSxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHRCxRQUFRLENBQUNELE1BQTdCLEVBQXFDRSxDQUFDLElBQUksQ0FBMUMsRUFBNkM7QUFDM0NMLE1BQUFBLE9BQU8sR0FBR0ksUUFBUSxDQUFDQyxDQUFELENBQWxCOztBQUVBLFVBQUlULE9BQU8sQ0FBQ0ssSUFBRCxDQUFQLENBQWNELE9BQWQsRUFBdUJOLEVBQUUsQ0FBQ1ksRUFBMUIsQ0FBSixFQUFtQztBQUNqQyxlQUFPVixPQUFPLENBQUNLLElBQUQsQ0FBUCxDQUFjRCxPQUFkLEVBQXVCTixFQUFFLENBQUNZLEVBQTFCLENBQVA7QUFDQVgsUUFBQUEsQ0FBQyxDQUFDLG1DQUFELEVBQXNDRCxFQUFFLENBQUNZLEVBQXpDLEVBQTZDTCxJQUE3QyxFQUFtREQsT0FBbkQsQ0FBRDtBQUNEO0FBQ0Y7QUFDRjtBQUNGLENBbkJEIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gKHBvb2xDbGllbnQsIHdzKSA9PiB7XG4gIGNvbnN0IHsgZCwgY2xpZW50cyB9ID0gcG9vbENsaWVudFxuICBjb25zdCBleGNoYW5nZXMgPSBPYmplY3Qua2V5cyhjbGllbnRzKVxuICBsZXQgY2hhbktleVxuICBsZXQgZXhJRFxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZXhjaGFuZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgZXhJRCA9IGV4Y2hhbmdlc1tpXVxuICAgIGNvbnN0IGNoYW5LZXlzID0gT2JqZWN0LmtleXMoY2xpZW50c1tleElEXSlcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2hhbktleXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIGNoYW5LZXkgPSBjaGFuS2V5c1tqXVxuXG4gICAgICBpZiAoY2xpZW50c1tleElEXVtjaGFuS2V5XVt3cy5pZF0pIHtcbiAgICAgICAgZGVsZXRlIGNsaWVudHNbZXhJRF1bY2hhbktleV1bd3MuaWRdXG4gICAgICAgIGQoJ3JlbW92ZWQgcG9vbCBjbGllbnQgJXMgZnJvbSAlcyAlcycsIHdzLmlkLCBleElELCBjaGFuS2V5KVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19