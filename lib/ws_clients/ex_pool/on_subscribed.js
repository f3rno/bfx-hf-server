'use strict';

const chanDataToKey = require('../../util/chan_data_to_key');
const notifyClients = require('./notify_clients');
const aliasClients = require('./alias_clients');

module.exports = (poolClient, msg) => {
  const [, exID, chanID, chanData] = msg;
  const chanKey = chanDataToKey(chanData);

  notifyClients(poolClient, exID, chanKey, msg);
  aliasClients(poolClient, exID, chanKey, chanID); // add alias by chanID
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy93c19jbGllbnRzL2V4X3Bvb2wvb25fc3Vic2NyaWJlZC5qcyJdLCJuYW1lcyI6WyJjaGFuRGF0YVRvS2V5IiwicmVxdWlyZSIsIm5vdGlmeUNsaWVudHMiLCJhbGlhc0NsaWVudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwicG9vbENsaWVudCIsIm1zZyIsImV4SUQiLCJjaGFuSUQiLCJjaGFuRGF0YSIsImNoYW5LZXkiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLE1BQU1BLGFBQWEsR0FBR0MsT0FBTyxDQUFDLDZCQUFELENBQTdCO0FBQ0EsTUFBTUMsYUFBYSxHQUFHRCxPQUFPLENBQUMsa0JBQUQsQ0FBN0I7QUFDQSxNQUFNRSxZQUFZLEdBQUdGLE9BQU8sQ0FBQyxpQkFBRCxDQUE1Qjs7QUFFQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFVBQUQsRUFBYUMsR0FBYixLQUFxQjtBQUNwQyxRQUFNLEdBQUdDLElBQUgsRUFBU0MsTUFBVCxFQUFpQkMsUUFBakIsSUFBNkJILEdBQW5DO0FBQ0EsUUFBTUksT0FBTyxHQUFHWCxhQUFhLENBQUNVLFFBQUQsQ0FBN0I7O0FBRUFSLEVBQUFBLGFBQWEsQ0FBQ0ksVUFBRCxFQUFhRSxJQUFiLEVBQW1CRyxPQUFuQixFQUE0QkosR0FBNUIsQ0FBYjtBQUNBSixFQUFBQSxZQUFZLENBQUNHLFVBQUQsRUFBYUUsSUFBYixFQUFtQkcsT0FBbkIsRUFBNEJGLE1BQTVCLENBQVosQ0FMb0MsQ0FLWTtBQUNqRCxDQU5EIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGNoYW5EYXRhVG9LZXkgPSByZXF1aXJlKCcuLi8uLi91dGlsL2NoYW5fZGF0YV90b19rZXknKVxuY29uc3Qgbm90aWZ5Q2xpZW50cyA9IHJlcXVpcmUoJy4vbm90aWZ5X2NsaWVudHMnKVxuY29uc3QgYWxpYXNDbGllbnRzID0gcmVxdWlyZSgnLi9hbGlhc19jbGllbnRzJylcblxubW9kdWxlLmV4cG9ydHMgPSAocG9vbENsaWVudCwgbXNnKSA9PiB7XG4gIGNvbnN0IFssIGV4SUQsIGNoYW5JRCwgY2hhbkRhdGFdID0gbXNnXG4gIGNvbnN0IGNoYW5LZXkgPSBjaGFuRGF0YVRvS2V5KGNoYW5EYXRhKVxuXG4gIG5vdGlmeUNsaWVudHMocG9vbENsaWVudCwgZXhJRCwgY2hhbktleSwgbXNnKVxuICBhbGlhc0NsaWVudHMocG9vbENsaWVudCwgZXhJRCwgY2hhbktleSwgY2hhbklEKSAvLyBhZGQgYWxpYXMgYnkgY2hhbklEXG59XG4iXX0=