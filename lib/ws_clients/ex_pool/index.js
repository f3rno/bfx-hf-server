'use strict';

const WSClient = require('../../ws_client');

const onData = require('./on_data');
const onError = require('./on_error');
const onSubscribed = require('./on_subscribed');
const onUnknownMessage = require('./on_unknown_message');

const POOL_RECONNECT_INTERVAL_MS = 5 * 1000;

module.exports = class PoolClient extends WSClient {
  constructor({ url }) {
    super({
      url,
      debugName: 'ex-pool',
      reconnectIntervalMS: POOL_RECONNECT_INTERVAL_MS,
      msgHandlers: {
        _: onUnknownMessage,

        data: onData,
        error: onError,
        subscribed: onSubscribed } });



    this.clients = {};
  }};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy93c19jbGllbnRzL2V4X3Bvb2wvaW5kZXguanMiXSwibmFtZXMiOlsiV1NDbGllbnQiLCJyZXF1aXJlIiwib25EYXRhIiwib25FcnJvciIsIm9uU3Vic2NyaWJlZCIsIm9uVW5rbm93bk1lc3NhZ2UiLCJQT09MX1JFQ09OTkVDVF9JTlRFUlZBTF9NUyIsIm1vZHVsZSIsImV4cG9ydHMiLCJQb29sQ2xpZW50IiwiY29uc3RydWN0b3IiLCJ1cmwiLCJkZWJ1Z05hbWUiLCJyZWNvbm5lY3RJbnRlcnZhbE1TIiwibXNnSGFuZGxlcnMiLCJfIiwiZGF0YSIsImVycm9yIiwic3Vic2NyaWJlZCIsImNsaWVudHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLGlCQUFELENBQXhCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFdBQUQsQ0FBdEI7QUFDQSxNQUFNRSxPQUFPLEdBQUdGLE9BQU8sQ0FBQyxZQUFELENBQXZCO0FBQ0EsTUFBTUcsWUFBWSxHQUFHSCxPQUFPLENBQUMsaUJBQUQsQ0FBNUI7QUFDQSxNQUFNSSxnQkFBZ0IsR0FBR0osT0FBTyxDQUFDLHNCQUFELENBQWhDOztBQUVBLE1BQU1LLDBCQUEwQixHQUFHLElBQUksSUFBdkM7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixNQUFNQyxVQUFOLFNBQXlCVCxRQUF6QixDQUFrQztBQUNqRFUsRUFBQUEsV0FBVyxDQUFFLEVBQUVDLEdBQUYsRUFBRixFQUFXO0FBQ3BCLFVBQU07QUFDSkEsTUFBQUEsR0FESTtBQUVKQyxNQUFBQSxTQUFTLEVBQUUsU0FGUDtBQUdKQyxNQUFBQSxtQkFBbUIsRUFBRVAsMEJBSGpCO0FBSUpRLE1BQUFBLFdBQVcsRUFBRTtBQUNYQyxRQUFBQSxDQUFDLEVBQUVWLGdCQURROztBQUdYVyxRQUFBQSxJQUFJLEVBQUVkLE1BSEs7QUFJWGUsUUFBQUEsS0FBSyxFQUFFZCxPQUpJO0FBS1hlLFFBQUFBLFVBQVUsRUFBRWQsWUFMRCxFQUpULEVBQU47Ozs7QUFhQSxTQUFLZSxPQUFMLEdBQWUsRUFBZjtBQUNELEdBaEJnRCxDQUFuRCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBXU0NsaWVudCA9IHJlcXVpcmUoJy4uLy4uL3dzX2NsaWVudCcpXG5cbmNvbnN0IG9uRGF0YSA9IHJlcXVpcmUoJy4vb25fZGF0YScpXG5jb25zdCBvbkVycm9yID0gcmVxdWlyZSgnLi9vbl9lcnJvcicpXG5jb25zdCBvblN1YnNjcmliZWQgPSByZXF1aXJlKCcuL29uX3N1YnNjcmliZWQnKVxuY29uc3Qgb25Vbmtub3duTWVzc2FnZSA9IHJlcXVpcmUoJy4vb25fdW5rbm93bl9tZXNzYWdlJylcblxuY29uc3QgUE9PTF9SRUNPTk5FQ1RfSU5URVJWQUxfTVMgPSA1ICogMTAwMFxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFBvb2xDbGllbnQgZXh0ZW5kcyBXU0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yICh7IHVybCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgdXJsLFxuICAgICAgZGVidWdOYW1lOiAnZXgtcG9vbCcsXG4gICAgICByZWNvbm5lY3RJbnRlcnZhbE1TOiBQT09MX1JFQ09OTkVDVF9JTlRFUlZBTF9NUyxcbiAgICAgIG1zZ0hhbmRsZXJzOiB7XG4gICAgICAgIF86IG9uVW5rbm93bk1lc3NhZ2UsXG5cbiAgICAgICAgZGF0YTogb25EYXRhLFxuICAgICAgICBlcnJvcjogb25FcnJvcixcbiAgICAgICAgc3Vic2NyaWJlZDogb25TdWJzY3JpYmVkXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuY2xpZW50cyA9IHt9XG4gIH1cbn1cbiJdfQ==