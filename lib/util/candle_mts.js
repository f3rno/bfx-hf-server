'use strict';

const TIME_FRAMES = require('./candle_time_frames');
const { BigNumber: BigN } = require('bignumber.js');

module.exports = (mts, tf) => {
  const spacing = TIME_FRAMES[tf];
  const tradeMTS = new BigN(`${mts}`.split('.').join('').padEnd(17, '0')).div(10000).toNumber();
  return +tradeMTS - tradeMTS % spacing;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL2NhbmRsZV9tdHMuanMiXSwibmFtZXMiOlsiVElNRV9GUkFNRVMiLCJyZXF1aXJlIiwiQmlnTnVtYmVyIiwiQmlnTiIsIm1vZHVsZSIsImV4cG9ydHMiLCJtdHMiLCJ0ZiIsInNwYWNpbmciLCJ0cmFkZU1UUyIsInNwbGl0Iiwiam9pbiIsInBhZEVuZCIsImRpdiIsInRvTnVtYmVyIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxNQUFNQSxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxzQkFBRCxDQUEzQjtBQUNBLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxJQUFiLEtBQXNCRixPQUFPLENBQUMsY0FBRCxDQUFuQzs7QUFFQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLEdBQUQsRUFBTUMsRUFBTixLQUFhO0FBQzVCLFFBQU1DLE9BQU8sR0FBR1IsV0FBVyxDQUFDTyxFQUFELENBQTNCO0FBQ0EsUUFBTUUsUUFBUSxHQUFHLElBQUlOLElBQUosQ0FBVSxHQUFFRyxHQUFJLEVBQVAsQ0FBU0ksS0FBVCxDQUFlLEdBQWYsRUFBb0JDLElBQXBCLENBQXlCLEVBQXpCLEVBQTZCQyxNQUE3QixDQUFvQyxFQUFwQyxFQUF3QyxHQUF4QyxDQUFULEVBQXVEQyxHQUF2RCxDQUEyRCxLQUEzRCxFQUFrRUMsUUFBbEUsRUFBakI7QUFDQSxTQUFPLENBQUNMLFFBQUQsR0FBYUEsUUFBUSxHQUFHRCxPQUEvQjtBQUNELENBSkQiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgVElNRV9GUkFNRVMgPSByZXF1aXJlKCcuL2NhbmRsZV90aW1lX2ZyYW1lcycpXG5jb25zdCB7IEJpZ051bWJlcjogQmlnTiB9ID0gcmVxdWlyZSgnYmlnbnVtYmVyLmpzJylcblxubW9kdWxlLmV4cG9ydHMgPSAobXRzLCB0ZikgPT4ge1xuICBjb25zdCBzcGFjaW5nID0gVElNRV9GUkFNRVNbdGZdXG4gIGNvbnN0IHRyYWRlTVRTID0gbmV3IEJpZ04oYCR7bXRzfWAuc3BsaXQoJy4nKS5qb2luKCcnKS5wYWRFbmQoMTcsICcwJykpLmRpdigxMDAwMCkudG9OdW1iZXIoKVxuICByZXR1cm4gK3RyYWRlTVRTIC0gKHRyYWRlTVRTICUgc3BhY2luZylcbn1cbiJdfQ==