'use strict';

const _last = require('lodash/last');
const _isArray = require('lodash/isArray');
const tradeTransformer = require('../../transformers/trade');

module.exports = (exa, msg, channel) => {
  if (_isArray(_last(msg)[0]) || msg[1] === 'tu') {
    return []; // ignore snapshots & tu
  }

  return [tradeTransformer(_last(msg))];
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9leGNoYW5nZV9jbGllbnRzL2JpdGZpbmV4L3JlY3YvZGF0YV9oYW5kbGVycy90cmFkZXMuanMiXSwibmFtZXMiOlsiX2xhc3QiLCJyZXF1aXJlIiwiX2lzQXJyYXkiLCJ0cmFkZVRyYW5zZm9ybWVyIiwibW9kdWxlIiwiZXhwb3J0cyIsImV4YSIsIm1zZyIsImNoYW5uZWwiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBckI7QUFDQSxNQUFNQyxRQUFRLEdBQUdELE9BQU8sQ0FBQyxnQkFBRCxDQUF4QjtBQUNBLE1BQU1FLGdCQUFnQixHQUFHRixPQUFPLENBQUMsMEJBQUQsQ0FBaEM7O0FBRUFHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsT0FBWCxLQUF1QjtBQUN0QyxNQUFJTixRQUFRLENBQUNGLEtBQUssQ0FBQ08sR0FBRCxDQUFMLENBQVcsQ0FBWCxDQUFELENBQVIsSUFBMkJBLEdBQUcsQ0FBQyxDQUFELENBQUgsS0FBVyxJQUExQyxFQUFnRDtBQUM5QyxXQUFPLEVBQVAsQ0FEOEMsQ0FDcEM7QUFDWDs7QUFFRCxTQUFPLENBQUNKLGdCQUFnQixDQUFDSCxLQUFLLENBQUNPLEdBQUQsQ0FBTixDQUFqQixDQUFQO0FBQ0QsQ0FORCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBfbGFzdCA9IHJlcXVpcmUoJ2xvZGFzaC9sYXN0JylcbmNvbnN0IF9pc0FycmF5ID0gcmVxdWlyZSgnbG9kYXNoL2lzQXJyYXknKVxuY29uc3QgdHJhZGVUcmFuc2Zvcm1lciA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zZm9ybWVycy90cmFkZScpXG5cbm1vZHVsZS5leHBvcnRzID0gKGV4YSwgbXNnLCBjaGFubmVsKSA9PiB7XG4gIGlmIChfaXNBcnJheShfbGFzdChtc2cpWzBdKSB8fCBtc2dbMV0gPT09ICd0dScpIHtcbiAgICByZXR1cm4gW10gLy8gaWdub3JlIHNuYXBzaG90cyAmIHR1XG4gIH1cblxuICByZXR1cm4gW3RyYWRlVHJhbnNmb3JtZXIoX2xhc3QobXNnKSldXG59XG4iXX0=