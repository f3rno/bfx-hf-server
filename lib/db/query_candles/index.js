'use strict';

const debug = require('debug')('bfx:hf:server:db:query-candles');

module.exports = async ({ ws, hfDS, exID, market, tf, start, end }) => {
  if (!hfDS) {
    debug('error: no data server for %s, can\'t fetch candles');
    return [];
  }

  return hfDS.getCandles(ws, {
    symbol: market.restID,
    exID,
    tf,
    start,
    end },
  market.uiID).then(() => {
    return null;
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kYi9xdWVyeV9jYW5kbGVzL2luZGV4LmpzIl0sIm5hbWVzIjpbImRlYnVnIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJ3cyIsImhmRFMiLCJleElEIiwibWFya2V0IiwidGYiLCJzdGFydCIsImVuZCIsImdldENhbmRsZXMiLCJzeW1ib2wiLCJyZXN0SUQiLCJ1aUlEIiwidGhlbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFQLENBQWlCLGdDQUFqQixDQUFkOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsT0FBTyxFQUFFQyxFQUFGLEVBQU1DLElBQU4sRUFBWUMsSUFBWixFQUFrQkMsTUFBbEIsRUFBMEJDLEVBQTFCLEVBQThCQyxLQUE5QixFQUFxQ0MsR0FBckMsRUFBUCxLQUFzRDtBQUNyRSxNQUFJLENBQUNMLElBQUwsRUFBVztBQUNUTCxJQUFBQSxLQUFLLENBQUMsb0RBQUQsQ0FBTDtBQUNBLFdBQU8sRUFBUDtBQUNEOztBQUVELFNBQU9LLElBQUksQ0FBQ00sVUFBTCxDQUFnQlAsRUFBaEIsRUFBb0I7QUFDekJRLElBQUFBLE1BQU0sRUFBRUwsTUFBTSxDQUFDTSxNQURVO0FBRXpCUCxJQUFBQSxJQUZ5QjtBQUd6QkUsSUFBQUEsRUFIeUI7QUFJekJDLElBQUFBLEtBSnlCO0FBS3pCQyxJQUFBQSxHQUx5QixFQUFwQjtBQU1KSCxFQUFBQSxNQUFNLENBQUNPLElBTkgsRUFNU0MsSUFOVCxDQU1jLE1BQU07QUFDekIsV0FBTyxJQUFQO0FBQ0QsR0FSTSxDQUFQO0FBU0QsQ0FmRCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ2JmeDpoZjpzZXJ2ZXI6ZGI6cXVlcnktY2FuZGxlcycpXG5cbm1vZHVsZS5leHBvcnRzID0gYXN5bmMgKHsgd3MsIGhmRFMsIGV4SUQsIG1hcmtldCwgdGYsIHN0YXJ0LCBlbmQgfSkgPT4ge1xuICBpZiAoIWhmRFMpIHtcbiAgICBkZWJ1ZygnZXJyb3I6IG5vIGRhdGEgc2VydmVyIGZvciAlcywgY2FuXFwndCBmZXRjaCBjYW5kbGVzJylcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIHJldHVybiBoZkRTLmdldENhbmRsZXMod3MsIHtcbiAgICBzeW1ib2w6IG1hcmtldC5yZXN0SUQsXG4gICAgZXhJRCxcbiAgICB0ZixcbiAgICBzdGFydCxcbiAgICBlbmRcbiAgfSwgbWFya2V0LnVpSUQpLnRoZW4oKCkgPT4ge1xuICAgIHJldHVybiBudWxsXG4gIH0pXG59XG4iXX0=